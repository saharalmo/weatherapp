{% extends "layouts/base.html" %}
{% block content %}
<!DOCTYPE html>
<body>

    <div class="content">
        <div class="form-container">
            <form>
                <input type="text" id="cityInput" class="textbox" placeholder="Check your city weather">
                <button class="mat-primary-button" type="button" id="CheckWeatherButton">
                    Check Weather
                </button>
            </form>
        </div>
        <div class="row">
            <div class="card_container" id="weather-container">
            </div>
        </div> 
    </div>


    </body>
    </html>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const checkWeatherButton = document.getElementById('CheckWeatherButton');
            checkWeatherButton.addEventListener('click', () => {
                const cityInput = document.getElementById('cityInput');
                const city = cityInput.value;
                fetch(`http://api.weatherapi.com/v1/current.json?key=4a16c5378a014961a27184954242803&q=${city}`)
                    .then(response => response.json())
                    .then(data => {
                        const weatherContainer = document.getElementById('weather-container');
                        if (weatherContainer) {
                            
                            createElements([data.current], weatherContainer, data.location);
                        }
                    })
                    .catch(error => console.error('Fetch error:', error));
            });
        });
        
        function createElements(weatherData, weatherContainer, location) {
            weatherContainer.innerHTML = '';
        
            weatherData.forEach(weather => {
                const cardContainer = document.createElement('div');
                cardContainer.classList.add('card_container');
                
                const materialCard = document.createElement('div');
                materialCard.classList.add('material-card');
        
                const weatherIcon = document.createElement('img');
                weatherIcon.src = `https:${weather.condition.icon}`; 
                weatherIcon.alt = 'Weather Icon';
        
                const temperature = document.createElement('span'); 
                temperature.classList.add('temperature'); 
                temperature.textContent = `${weather.temp_c}Â°C`; 
        
                const cityName = document.createElement('span');
                cityName.classList.add('city');
                cityName.textContent = location.name;
        
                const description = document.createElement('span');
                description.classList.add('description');
                description.textContent = weather.condition.text;
        
                const updatedDate = document.createElement('small');
                updatedDate.classList.add('updated_date');
                updatedDate.textContent = `Last Updated: ${weather.last_updated}`; 
        
                materialCard.appendChild(weatherIcon);
                materialCard.appendChild(temperature);
                materialCard.appendChild(cityName);
                materialCard.appendChild(description);
                materialCard.appendChild(updatedDate);
        
                cardContainer.appendChild(materialCard);
                weatherContainer.appendChild(cardContainer);
            });
        }

        
        </script>
        
<style>
    .content {
        display: flex;
        flex-direction: column;
        align-items: center;
        font-family: 'Arial', sans-serif;
        padding: 20px;
      }
      
      /* Form container with a little spacing */
      .form-container {
        margin-bottom: 30px;
      }
      
      /* Styling the text input */
      .textbox {
        padding: 10px;
        margin-right: 10px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 16px;
      }
      
      /* Button styles with a primary color */
      .mat-primary-button {
        padding: 10px 20px;
        background-color: skyblue;
        color: white;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 16px;
        transition: background-color 0.3s ease;
      }
      
      .mat-primary-button:hover {
        background-color: teal;
      }
      
      /* Card container */
      .card_container {
        width: 80%;
        border-radius: 8px;
        background-color: white;
        display: flex;
        flex-direction: column;
        align-items: center;
        transition: box-shadow 0.3s ease;
      }
      
</style>


    
{% endblock content %}